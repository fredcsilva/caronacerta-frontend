<!-- ✅ Menu-bar com título e subtítulo -->
<app-menu-bar
  [title]="'Dados do Condomínio'"
  [subtitle]="'Passo 2 de 3'"
  [showBackButton]="false"
  [showLogoutButton]="true">
</app-menu-bar>

<div class="condominio-container">
  <p-toast key="tc" position="top-center"></p-toast>

  <div class="content-wrapper">
    <p-card>
      <!-- Conteúdo do formulário -->
      <div class="card-content">
        <form [formGroup]="condominioForm" (ngSubmit)="salvarCondominio()">
          
          <!-- Condomínio -->
          <div class="field">
            <label for="condominio">Condomínio *</label>
            <p-select
              inputId="condominio"
              formControlName="condominio"
              [options]="condominioOptions"
              placeholder="Selecione seu condomínio"
              optionLabel="label"
              optionValue="value"
              [filter]="true"
              filterPlaceholder="Buscar condomínio"
              [fluid]="true"
              [class.ng-invalid]="condominioForm.get('condominio')?.invalid && condominioForm.get('condominio')?.touched">
            </p-select>
            <small class="p-error" *ngIf="condominioForm.get('condominio')?.hasError('required') && condominioForm.get('condominio')?.touched">
              Condomínio é obrigatório.
            </small>
          </div>

          <!-- Bloco -->
          <div class="field">
            <label for="bloco">Bloco *</label>
            <p-select
              inputId="bloco"
              formControlName="bloco"
              [options]="blocoOptions"
              placeholder="Selecione o bloco"
              optionLabel="label"
              optionValue="value"
              [fluid]="true"
              [class.ng-invalid]="condominioForm.get('bloco')?.invalid && condominioForm.get('bloco')?.touched">
            </p-select>
            <small class="p-error" *ngIf="condominioForm.get('bloco')?.hasError('required') && condominioForm.get('bloco')?.touched">
              Bloco é obrigatório.
            </small>
          </div>

          <!-- Apartamento -->
          <div class="field">
            <label for="apartamento">Apartamento *</label>
            <p-select
              inputId="apartamento"
              formControlName="apartamento"
              [options]="apartamentoOptions"
              placeholder="Selecione o apartamento"
              optionLabel="label"
              optionValue="value"
              [filter]="true"
              filterPlaceholder="Buscar apartamento"
              [fluid]="true"
              [class.ng-invalid]="condominioForm.get('apartamento')?.invalid && condominioForm.get('apartamento')?.touched">
            </p-select>
            <small class="p-error" *ngIf="condominioForm.get('apartamento')?.hasError('required') && condominioForm.get('apartamento')?.touched">
              Apartamento é obrigatório.
            </small>
          </div>

          <!-- Botão Próximo -->
          <div class="button-group">
            <p-button
              type="submit"
              label="Próximo"
              icon="pi pi-arrow-right"
              iconPos="right"
              styleClass="p-button-primary"
              [loading]="loading"
              [disabled]="condominioForm.invalid">
            </p-button>
          </div>
        </form>
      </div>
    </p-card>
  </div>
</div>