<!-- ✅ Menu-bar com título e subtítulo -->
<app-menu-bar
  [title]="'Dados do Condomínio'"
  [subtitle]="'Passo 2 de 3'"
  [showBackButton]="false"
  [showLogoutButton]="true">
</app-menu-bar>

<div class="condominio-container">
  <p-toast key="tc" position="top-center"></p-toast>

  <div class="content-wrapper">
    <p-card>
      <!-- Conteúdo do formulário -->
      <div class="card-content">
        <form [formGroup]="condominioForm" (ngSubmit)="salvarCondominio()">
          
          <!-- País -->
          <div class="field">
            <label for="pais">País *</label>
            <p-select
              inputId="pais"
              formControlName="pais"
              [options]="paisOptions"
              placeholder="Selecione o país"
              optionLabel="label"
              optionValue="value"
              [disabled]="true"
              [fluid]="true">
            </p-select>
          </div>

          <!-- Estado -->
          <div class="field">
            <label for="estado">Estado *</label>
            <p-select
              inputId="estado"
              formControlName="estado"
              [options]="estadoOptions"
              placeholder="Selecione o estado"
              optionLabel="label"
              optionValue="value"
              [disabled]="true"
              [fluid]="true">
            </p-select>
          </div>

          <!-- Nome do Condomínio -->
          <div class="field">
            <label for="nomeCondominio">Nome do Condomínio *</label>
            <input
              pInputText
              id="nomeCondominio"
              formControlName="nomeCondominio"
              placeholder="Digite o nome do condomínio"
              [class.ng-invalid]="condominioForm.get('nomeCondominio')?.invalid && condominioForm.get('nomeCondominio')?.touched"
              [class.ng-dirty]="condominioForm.get('nomeCondominio')?.touched"
            />
            <small class="p-error" *ngIf="condominioForm.get('nomeCondominio')?.hasError('required') && condominioForm.get('nomeCondominio')?.touched">
              Nome do condomínio é obrigatório.
            </small>
            <small class="p-error" *ngIf="condominioForm.get('nomeCondominio')?.hasError('minlength') && condominioForm.get('nomeCondominio')?.touched">
              Nome deve ter no mínimo 3 caracteres.
            </small>
          </div>

          <!-- Bloco -->
          <div class="field">
            <label for="bloco">Bloco *</label>
            <input
              pInputText
              id="bloco"
              formControlName="bloco"
              placeholder="Ex: A, B, C, Torre 1"
              [class.ng-invalid]="condominioForm.get('bloco')?.invalid && condominioForm.get('bloco')?.touched"
              [class.ng-dirty]="condominioForm.get('bloco')?.touched"
            />
            <small class="p-error" *ngIf="condominioForm.get('bloco')?.hasError('required') && condominioForm.get('bloco')?.touched">
              Bloco é obrigatório.
            </small>
          </div>

          <!-- Apartamento -->
          <div class="field">
            <label for="apartamento">Número do Apartamento *</label>
            <input
              pInputText
              id="apartamento"
              formControlName="apartamento"
              placeholder="Ex: 101, 202, 303"
              [class.ng-invalid]="condominioForm.get('apartamento')?.invalid && condominioForm.get('apartamento')?.touched"
              [class.ng-dirty]="condominioForm.get('apartamento')?.touched"
            />
            <small class="p-error" *ngIf="condominioForm.get('apartamento')?.hasError('required') && condominioForm.get('apartamento')?.touched">
              Número do apartamento é obrigatório.
            </small>
            <small class="p-error" *ngIf="condominioForm.get('apartamento')?.hasError('pattern') && condominioForm.get('apartamento')?.touched">
              Digite apenas números.
            </small>
          </div>

          <!-- Botão Próximo -->
          <div class="button-group">
            <p-button
              type="submit"
              label="Próximo"
              icon="pi pi-arrow-right"
              iconPos="right"
              styleClass="p-button-primary"
              [loading]="loading"
              [disabled]="condominioForm.invalid">
            </p-button>
          </div>
        </form>
      </div>
    </p-card>
  </div>
</div>